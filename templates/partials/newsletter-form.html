<form
	data-component="n-newsletter-signup-form"
	data-newsletter-id="{{id}}"
	action="
		{{~#if userIsSubscribed~}}
			{{unsubscribeAction}}
		{{~else~}}
			{{subscribeAction}}
		{{~/if~}}
		"
	method="POST"
	>
	<script data-model="n-newsletter-signup-form" type="text/json">{{{json @this}}}</script>
	<button
		class="n-newsletter-signup-button o-buttons o-buttons--big"
		aria-label="
			{{~#if userIsSubscribed~}}
				Unsubscribe from {{name}}
			{{~else~}}
				Subscribe to {{name}}
			{{~/if~}}
		"
		title="
			{{~#if userIsSubscribed~}}
				Unsubscribe from {{name}}
			{{~else~}}
				Subscribe to {{name}}
			{{~/if~}}
		"
		data-trackable="
			{{~#if userIsSubscribed~}}
				newsletter-unsubscribe
			{{~else~}}
				newsletter-subscribe
			{{~/if~}}
		"
		type="submit"
		aria-describedby="feedback-message__newsletter-{{id}}"
		{{#if updatingPreference}}disabled="disabled" aria-disabled="true"{{/if}}
		>

			{{#if updatingPreference}}
				Updating<span class="n-util-visually-hidden">&nbsp;{{name}} subscription</span>â€¦
			{{else if userIsSubscribed}}
				Unsubscribe<span class="n-util-visually-hidden">&nbsp;from {{name}}</span>
			{{else}}
				Sign up<span class="n-util-visually-hidden">&nbsp;to {{name}}</span>
			{{/if}}
		</button>
</form>
